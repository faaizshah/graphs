"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.safeJsonReadSync = safeJsonReadSync;
exports.outputFileStderrSync = outputFileStderrSync;

var _fsExtraPromise = _interopRequireDefault(require("fs-extra-promise"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function safeJsonReadSync(file) {
  // returns obj, error, or undefined when not found
  try {
    var stat = _fsExtraPromise["default"].statSync(file);

    if (stat && stat.size) {
      try {
        return _fsExtraPromise["default"].readJsonSync(file);
      } catch (err) {
        return err;
      }
    }

    return undefined;
  } catch (err) {
    if (err.code !== 'ENOENT') {
      console.error(err);
      return err;
    }

    return undefined;
  }
}

function outputFileStderrSync(file) {
  var content = _fsExtraPromise["default"].readFileSync(file);

  process.stderr.write(content);
}